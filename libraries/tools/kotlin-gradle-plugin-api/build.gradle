apply plugin: 'kotlin'
apply plugin: 'maven'
apply plugin: 'jps-compatible'

configureJvmProject(project)
configurePublishing(project)

repositories {
    mavenLocal()
}

pill {
    variant = "FULL"
}

dependencies {
    compile project(':kotlin-stdlib')

    // Granular compile dependency; At runtime, it is covered by the compiler distribution the kotlin-gradle-plugin depends on.
    compileOnly(project(':compiler:util')) { transitive = false }

    compileOnly gradleApi()
    compileOnly 'com.android.tools.build:gradle:0.4.2'
}

artifacts {
    archives sourcesJar
    archives javadocJar
}

jar {
    manifestAttributes(manifest, project)
}